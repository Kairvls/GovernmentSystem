{% extends 'index.html' %}

{% block title %}View Department{% endblock %}

{% block content %}

<section class="home">
    <p>{{ department.name }} DEPARTMENT</p>
    <div class="table-container">
    <table class="table">
        <thead>
            <tr>
                <th scope="col">Employee ID</th>
                <th scope="col">Employee Name</th>
                <th scope="col">Time In</th>
                <th scope="col">Arrival Status</th>
                <th scope="col">Time out</th>
                <th scope="col">Leaving Status</th>
            </tr>
        </thead>
        <tbody>
          {% for record in attendance_records %}
          <tr>
              <th scope="row">{{ record.employee.employee_id }}</th>
              <td>{{ record.employee.first_name }} {{ record.employee.last_name }}</td>
              <td>{{ record.time_in|time:"g:i a" }}</td>
              <td>{{ record.arrival_status }}</td>
              <td>{{ record.time_out|time:"g:i a" }}</td>  <!-- Adjust based on your field names -->
            <td>{{ record.timeout_status }}</td>
          </tr>
          {% empty %}
          <tr>
              <td colspan="6">No attendance available</td>
          </tr>
          {% endfor %}
      </tbody>
      
    </table>
</div>

<a href="{% url 'departments' %}" class="btn">

    <svg xmlns="http://www.w3.org/2000/svg" width="35" height="35" fill="currentColor" class="bi bi-arrow-90deg-left" viewBox="0 0 16 16">
        <path fill-rule="evenodd" d="M1.146 4.854a.5.5 0 0 1 0-.708l4-4a.5.5 0 1 1 .708.708L2.707 4H12.5A2.5 2.5 0 0 1 15 6.5v8a.5.5 0 0 1-1 0v-8A1.5 1.5 0 0 0 12.5 5H2.707l3.147 3.146a.5.5 0 1 1-.708.708z"/>
      </svg>
</a>
</section>

{% endblock %}
